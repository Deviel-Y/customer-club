generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id             String  @id @default(cuid())
  email          String  @unique
  hashedPassword String
  companyName    String? @unique
  companyBranch  String?
  itManager      String?
  address        String?
  image          String?
  role           Role    @default(USER)

  proformaInvoices PorformaInvoice[]
  invoices         Invoice[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum Role {
  USER
  ADMIN
}

model Invoice {
  id                 String @id @default(cuid())
  invoiceNumber      String @unique
  organization       String
  description        String
  organizationBranch String
  assignedToUserId   String
  issuerId           String
  // image String

  User User @relation(fields: [assignedToUserId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PorformaInvoice {
  id                    String   @id @default(cuid())
  porformaInvoiceNumber String   @unique
  organization          String
  description           String
  organizationBranch    String
  assignedToUserId      String
  issuerId              String
  expiredAt             DateTime
  // image String

  User User @relation(fields: [assignedToUserId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
